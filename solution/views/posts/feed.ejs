<%- include("../components/navbar.ejs") %>
<div class="container-fluid col-xl-8 col-lg-10 col-md-10 mt-5">

    <div class="container-fluid mt-5">
        <div class="bg-danger text-white p-1 rounded-3 d-flex me-auto ms-auto card justify-content-around mb-3"
             id="reconnect-banner">
            <div class="card-body text-center">
                <h4>You are offline!</h4>
                <p>Please reconnect to the internet to see more posts!</p>
            </div>
        </div>
        <div class="card mb-3 rounded-4 bg-info-subtle" id="pendingPostsBanner">
            <div class="card-body text-center">
                <p>You have <span id="pendingPostsCount">[X]</span> pending posts</p>
                <p>These will be uploaded once you are connected to the internet</p>
            </div>
        </div>
        <div class="row">
            <form method="GET" class="w-100">
                <div class="row mb-3">
                    <div class="col-md-5 mb-3 mb-md-0">
                        <div class="input-group">
                            <label class="input-group-text" for="sortBy">Sort by:</label>
                            <select class="form-select" id="sortBy">
                                <option value="0" selected>Most Recent</option>
                                <option value="1">Oldest</option>
                                <option value="2">Distance Away</option>
                            </select>
                        </div>
                    </div>
                    <div class="col-md-5 mb-3 mb-md-0">
                        <div class="input-group">
                            <label class="input-group-text" for="filterBy">Filter by:</label>
                            <select class="form-select" id="filterBy">
                                <option value="-1" selected>All</option>
                                <option value="0">New</option>
                                <option value="1">In Progress</option>
                                <option value="2">Completed</option>
                            </select>
                        </div>
                    </div>
                    <div class="col-md-2">
                        <button id="applyButton" class="btn btn-primary w-100" type="submit">Apply</button>
                    </div>
                </div>
            </form>
        </div>
    </div>
    <div>
        <div id="error-box">
            <div class="bg-danger text-white p-3 rounded-3 d-flex me-auto ms-auto col-md-6 col-sm-8 col-xl-4 justify-content-around mb-3">
                <div class="align-self-center">
                    Sorry! There was an error while loading the feed.
                </div>
            </div>
        </div>
        <div id="update-spinner">
            <div class="bg-primary text-white p-3 rounded-3 d-flex me-auto ms-auto col-md-6 col-sm-8 col-xl-4 justify-content-around mb-3">
                <div class="align-self-center">
                    Loading Most Recent Posts...
                </div>
                <div class="spinner-border text-light" role="status">
                    <span class="visually-hidden">Loading...</span>
                </div>
            </div>
        </div>
        <div id="feed-recent-wrapper" class="mb-5 position-relative">
        </div>
        <div id="feed-wrapper">
        </div>
    </div>
    <div id="loading-spinner">
        <div class="bg-success text-white p-3 rounded-3 d-flex me-auto ms-auto col-md-6 col-sm-8 col-xl-4 justify-content-around mb-3">
            <div class="align-self-center">
                Loading More Posts...
            </div>
            <div class="spinner-border text-light" role="status">
                <span class="visually-hidden">Loading...</span>
            </div>
        </div>
    </div>
    <div id="feed-end">
        <div class="bg-success text-white p-3 rounded-3 d-flex me-auto ms-auto col-md-6 col-sm-8 col-xl-4 justify-content-around mb-3">
            <div class="align-self-center">
                End of the feed
            </div>
        </div>
    </div>
</div>

<script src="/javascripts/feed/sortOrdersEnum.js"></script>
<script src="/javascripts/posts/post_states.js"></script>
<script src="/javascripts/feed/feed.js"></script>

<%- include("../components/footer.ejs") %>